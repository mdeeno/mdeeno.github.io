{{ define "main" }}

<article class="first-entry home-info">
    {{- .Content -}}
    <header class="entry-header">
        <h1>{{ .Site.Title | default "PropTech Lab" }} ğŸš€</h1>
    </header>
    <div class="entry-content">
        <p>{{ .Site.Params.homeInfoParams.Content | default "ë¶€ë™ì‚° ë°ì´í„° ë¶„ì„ & íˆ¬ì ì „ëµ ì—°êµ¬ì†Œ" }}</p>
    </div>
</article>

<div style="margin-bottom: 40px; text-align: center;">
    <h3 style="font-size: 1.2rem; margin-bottom: 15px; border-bottom: 2px solid #333; display: inline-block; padding-bottom: 5px;">
        ğŸ“‚ í† í”½ë³„ ëª¨ì•„ë³´ê¸°
    </h3>
    
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; max-width: 800px; margin: 0 auto;">
        {{ range $name, $taxonomy := .Site.Taxonomies.categories }}
        <a href="{{ "/categories/" | relLangURL }}{{ $name | urlize }}" 
           style="
               background-color: #f3f4f6; 
               color: #374151; 
               padding: 8px 16px; 
               border-radius: 20px; 
               text-decoration: none; 
               font-size: 0.9rem; 
               font-weight: 500;
               transition: all 0.2s;
               border: 1px solid #e5e7eb;
               display: flex;
               align-items: center;
               gap: 6px;
           "
           onmouseover="this.style.backgroundColor='#e5e7eb'"
           onmouseout="this.style.backgroundColor='#f3f4f6'">
            <span>{{ $name }}</span>
            <span style="background-color: #333; color: #fff; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px;">{{ $taxonomy.Count }}</span>
        </a>
        {{ end }}
    </div>
</div>

<div style="margin-top: 20px;">
    <h3 style="font-size: 1.5rem; margin-bottom: 20px;">ğŸ”¥ ìµœì‹  ë¦¬í¬íŠ¸</h3>
</div>

{{- $pages := union .Site.RegularPages .Site.Sections }}
{{- $pages = where site.RegularPages "Type" "in" site.Params.mainSections }}
{{- $paginator := .Paginate $pages }}

{{- range $paginator.Pages }}
<article class="post-entry">
  {{- $isHidden := .Params.cover.hidden | default site.Params.cover.hiddenInList }}
  {{- partial "cover.html" (dict "cxt" . "IsHome" true "isHidden" $isHidden) }}
  <header class="entry-header">
    <h2>
      {{- .Title }}
      {{- if .Draft }}<sup><span class="entry-isdraft">&nbsp;&nbsp;[Draft]</span></sup>{{- end }}
    </h2>
  </header>
  {{- if (ne .Params.hideSummary true) }}
  <div class="entry-content">
    <p>{{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}</p>
  </div>
  {{- end }}
  <footer class="entry-footer">
    {{- partial "post_meta.html" . -}}
  </footer>
  <a class="entry-link" aria-label="post link to {{ .Title | plainify }}" href="{{ .Permalink }}"></a>
</article>
{{- end }}

{{- if gt $paginator.TotalPages 1 }}
<footer class="page-footer">
  <nav class="pagination">
    {{- if $paginator.HasPrev }}
    <a class="prev" href="{{ $paginator.Prev.URL | absURL }}">Â« {{ i18n "prev_page" }}</a>
    {{- end }}
    {{- if $paginator.HasNext }}
    <a class="next" href="{{ $paginator.Next.URL | absURL }}">{{ i18n "next_page" }} Â»</a>
    {{- end }}
  </nav>
</footer>
{{- end }}

{{ end }}